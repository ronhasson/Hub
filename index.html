<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Moo</title>
    <link href="stylesheet.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" media="screen" href="css/style.css">
    <link id="importMenu" rel="import" href="templates/mainMenu.html">
</head>
<script src="server.js"></script>
<script src="hangedMan.js"></script>

<body>
    <div id="particles-js" class="notselectable">
        <div id="masterDisplay">
            <div class="mainbar">
                <center><span id="titleName">Console Test v0.0.4</span>
                    <div id="close-btn" class="exitbutton">
                        <span style="font-size:400%">X</span>
                    </div>
                </center>
            </div>
            <div id="display">
                <div id="ipBox">
                    <center>
                        <div style="margin-bottom:11%">
                            <center>
                                <img id="qr" width="42%" />
                            </center>
                        </div>
                    </center>
                    <center>
                        <div>
                            <center>
                                <span id="ipDisp" style="font-size:230%;">test</span>
                            </center>
                        </div>
                    </center>
                </div>
                <div id="cont">

                </div>
            </div>
        </div>
    </div>
</body>
<script>
    var remote = require('remote');
    var pjsonVersion = require('./package.json').version;
    document.getElementById("titleName").innerHTML = "Hub - v" + pjsonVersion;
    document.getElementById("close-btn").addEventListener("click", function(e) {
        var window = remote.getCurrentWindow();
        closeServer();
        window.close();
    });
    updateIPtext("ipDisp");
    generateQRforIP("qr");

    function getInput(button) {
        if (document.getElementById("ipBox").style.display != 'none') {
            qrShowState();
        } else {
            switch (button) {
                case 'A':
                    console.log('A');
                    switchPage("importMenu");
                    break;
                case 'B':
                    cleanPage();
                    break;
                case 'QR':
                    qrShowState();
                    break;
            }
        }
    }

    function switchPage(templateID) {
        var link = document.getElementById(templateID);
        var template = link.import.querySelector('template');
        var clone = document.importNode(template.content, true);
        cleanPage();
        document.getElementById("cont").appendChild(clone);
    }

    function cleanPage() {
        document.getElementById("cont").innerHTML = "";
    }

    function qrShowState() {
        if (document.getElementById("ipBox").style.display != 'none') {
            document.getElementById("ipBox").style.display = 'none';
            document.getElementById("cont").style.display = '';
        } else {
            document.getElementById("ipBox").style.display = '';
            document.getElementById("cont").style.display = 'none';
        }
    }
</script>
<script src="js\particles.js"></script>
<script src="js\app.js"></script>

</html>
